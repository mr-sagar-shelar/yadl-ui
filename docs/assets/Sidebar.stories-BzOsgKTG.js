import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{g as Ct,b as Ut,a as L}from"./index-P7CUG52Y.js";var pe={},ue,Ce;function Dt(){if(Ce)return ue;Ce=1;function e(t){return t&&t.__esModule?t:{default:t}}return ue=e,ue}var ye={exports:{}},Ue;function Bt(){return Ue||(Ue=1,function(e){var t=function(n){var r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(s,o,u){s[o]=u.value},p,f=typeof Symbol=="function"?Symbol:{},l=f.iterator||"@@iterator",c=f.asyncIterator||"@@asyncIterator",y=f.toStringTag||"@@toStringTag";function m(s,o,u){return Object.defineProperty(s,o,{value:u,enumerable:!0,configurable:!0,writable:!0}),s[o]}try{m({},"")}catch{m=function(o,u,h){return o[u]=h}}function x(s,o,u,h){var d=o&&o.prototype instanceof W?o:W,T=Object.create(d.prototype),U=new oe(h||[]);return a(T,"_invoke",{value:wt(s,u,U)}),T}n.wrap=x;function S(s,o,u){try{return{type:"normal",arg:s.call(o,u)}}catch(h){return{type:"throw",arg:h}}}var g="suspendedStart",_="suspendedYield",b="executing",C="completed",P={};function W(){}function k(){}function w(){}var E={};m(E,l,function(){return this});var O=Object.getPrototypeOf,R=O&&O(O(ce([])));R&&R!==r&&i.call(R,l)&&(E=R);var F=w.prototype=W.prototype=Object.create(E);k.prototype=w,a(F,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:k,configurable:!0}),k.displayName=m(w,y,"GeneratorFunction");function Z(s){["next","throw","return"].forEach(function(o){m(s,o,function(u){return this._invoke(o,u)})})}n.isGeneratorFunction=function(s){var o=typeof s=="function"&&s.constructor;return o?o===k||(o.displayName||o.name)==="GeneratorFunction":!1},n.mark=function(s){return Object.setPrototypeOf?Object.setPrototypeOf(s,w):(s.__proto__=w,m(s,y,"GeneratorFunction")),s.prototype=Object.create(F),s},n.awrap=function(s){return{__await:s}};function Q(s,o){function u(T,U,D,j){var B=S(s[T],s,U);if(B.type==="throw")j(B.arg);else{var se=B.arg,M=se.value;return M&&typeof M=="object"&&i.call(M,"__await")?o.resolve(M.__await).then(function(I){u("next",I,D,j)},function(I){u("throw",I,D,j)}):o.resolve(M).then(function(I){se.value=I,D(se)},function(I){return u("throw",I,D,j)})}}var h;function d(T,U){function D(){return new o(function(j,B){u(T,U,j,B)})}return h=h?h.then(D,D):D()}a(this,"_invoke",{value:d})}Z(Q.prototype),m(Q.prototype,c,function(){return this}),n.AsyncIterator=Q,n.async=function(s,o,u,h,d){d===void 0&&(d=Promise);var T=new Q(x(s,o,u,h),d);return n.isGeneratorFunction(o)?T:T.next().then(function(U){return U.done?U.value:T.next()})};function wt(s,o,u){var h=g;return function(T,U){if(h===b)throw new Error("Generator is already running");if(h===C){if(T==="throw")throw U;return _e()}for(u.method=T,u.arg=U;;){var D=u.delegate;if(D){var j=we(D,u);if(j){if(j===P)continue;return j}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(h===g)throw h=C,u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);h=b;var B=S(s,o,u);if(B.type==="normal"){if(h=u.done?C:_,B.arg===P)continue;return{value:B.arg,done:u.done}}else B.type==="throw"&&(h=C,u.method="throw",u.arg=B.arg)}}}function we(s,o){var u=o.method,h=s.iterator[u];if(h===p)return o.delegate=null,u==="throw"&&s.iterator.return&&(o.method="return",o.arg=p,we(s,o),o.method==="throw")||u!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+u+"' method")),P;var d=S(h,s.iterator,o.arg);if(d.type==="throw")return o.method="throw",o.arg=d.arg,o.delegate=null,P;var T=d.arg;if(!T)return o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,P;if(T.done)o[s.resultName]=T.value,o.next=s.nextLoc,o.method!=="return"&&(o.method="next",o.arg=p);else return T;return o.delegate=null,P}Z(F),m(F,y,"Generator"),m(F,l,function(){return this}),m(F,"toString",function(){return"[object Generator]"});function _t(s){var o={tryLoc:s[0]};1 in s&&(o.catchLoc=s[1]),2 in s&&(o.finallyLoc=s[2],o.afterLoc=s[3]),this.tryEntries.push(o)}function ae(s){var o=s.completion||{};o.type="normal",delete o.arg,s.completion=o}function oe(s){this.tryEntries=[{tryLoc:"root"}],s.forEach(_t,this),this.reset(!0)}n.keys=function(s){var o=Object(s),u=[];for(var h in o)u.push(h);return u.reverse(),function d(){for(;u.length;){var T=u.pop();if(T in o)return d.value=T,d.done=!1,d}return d.done=!0,d}};function ce(s){if(s){var o=s[l];if(o)return o.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length)){var u=-1,h=function d(){for(;++u<s.length;)if(i.call(s,u))return d.value=s[u],d.done=!1,d;return d.value=p,d.done=!0,d};return h.next=h}}return{next:_e}}n.values=ce;function _e(){return{value:p,done:!0}}return oe.prototype={constructor:oe,reset:function(s){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(ae),!s)for(var o in this)o.charAt(0)==="t"&&i.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=p)},stop:function(){this.done=!0;var s=this.tryEntries[0],o=s.completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(s){if(this.done)throw s;var o=this;function u(j,B){return T.type="throw",T.arg=s,o.next=j,B&&(o.method="next",o.arg=p),!!B}for(var h=this.tryEntries.length-1;h>=0;--h){var d=this.tryEntries[h],T=d.completion;if(d.tryLoc==="root")return u("end");if(d.tryLoc<=this.prev){var U=i.call(d,"catchLoc"),D=i.call(d,"finallyLoc");if(U&&D){if(this.prev<d.catchLoc)return u(d.catchLoc,!0);if(this.prev<d.finallyLoc)return u(d.finallyLoc)}else if(U){if(this.prev<d.catchLoc)return u(d.catchLoc,!0)}else if(D){if(this.prev<d.finallyLoc)return u(d.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(s,o){for(var u=this.tryEntries.length-1;u>=0;--u){var h=this.tryEntries[u];if(h.tryLoc<=this.prev&&i.call(h,"finallyLoc")&&this.prev<h.finallyLoc){var d=h;break}}d&&(s==="break"||s==="continue")&&d.tryLoc<=o&&o<=d.finallyLoc&&(d=null);var T=d?d.completion:{};return T.type=s,T.arg=o,d?(this.method="next",this.next=d.finallyLoc,P):this.complete(T)},complete:function(s,o){if(s.type==="throw")throw s.arg;return s.type==="break"||s.type==="continue"?this.next=s.arg:s.type==="return"?(this.rval=this.arg=s.arg,this.method="return",this.next="end"):s.type==="normal"&&o&&(this.next=o),P},finish:function(s){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.finallyLoc===s)return this.complete(u.completion,u.afterLoc),ae(u),P}},catch:function(s){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc===s){var h=u.completion;if(h.type==="throw"){var d=h.arg;ae(u)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(s,o,u){return this.delegate={iterator:ce(s),resultName:o,nextLoc:u},this.method==="next"&&(this.arg=p),P}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(ye)),ye.exports}var le,De;function Pt(){return De||(De=1,le=Bt()),le}var fe,Be;function Et(){if(Be)return fe;Be=1;function e(n,r,i,a,p,f,l){try{var c=n[f](l),y=c.value}catch(m){i(m);return}c.done?r(y):Promise.resolve(y).then(a,p)}function t(n){return function(){var r=this,i=arguments;return new Promise(function(a,p){var f=n.apply(r,i);function l(y){e(f,a,p,l,c,"next",y)}function c(y){e(f,a,p,l,c,"throw",y)}l(void 0)})}}return fe=t,fe}var Pe;function jt(){return Pe||(Pe=1,function(e){var t=Dt();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=t(Pt()),r=t(Et());function i(p){return a.apply(this,arguments)}function a(){return(a=(0,r.default)(n.default.mark(function p(f){var l,c;return n.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return l=document.createElement("video"),c=new Promise(function(m,x){l.addEventListener("loadedmetadata",function(){l.duration===1/0?(l.currentTime=Number.MAX_SAFE_INTEGER,l.ontimeupdate=function(){l.ontimeupdate=null,m(l.duration),l.currentTime=0}):m(l.duration)}),l.onerror=function(S){return x(S.target.error)}}),l.src=typeof f=="string"||f instanceof String?f:window.URL.createObjectURL(f),y.abrupt("return",c);case 4:case"end":return y.stop()}},p)}))).apply(this,arguments)}}(pe)),pe}var Ot=jt();const Ft=Ct(Ot);var me={},Se=function(e,t){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Se(e,t)};function Ge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Se(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var te=function(){return te=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},te.apply(this,arguments)};function Ve(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $e(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var f=e.length-1;f>=0;f--)(p=e[f])&&(a=(i<3?p(a):i>3?p(t,n,a):p(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function He(e,t){return function(n,r){t(n,r,e)}}function ze(e,t,n,r,i,a){function p(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var f=r.kind,l=f==="getter"?"get":f==="setter"?"set":"value",c=!t&&e?r.static?e:e.prototype:null,y=t||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),m,x=!1,S=n.length-1;S>=0;S--){var g={};for(var _ in r)g[_]=_==="access"?{}:r[_];for(var _ in r.access)g.access[_]=r.access[_];g.addInitializer=function(C){if(x)throw new TypeError("Cannot add initializers after decoration has completed");a.push(p(C||null))};var b=(0,n[S])(f==="accessor"?{get:y.get,set:y.set}:y[l],g);if(f==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=p(b.get))&&(y.get=m),(m=p(b.set))&&(y.set=m),(m=p(b.init))&&i.unshift(m)}else(m=p(b))&&(f==="field"?i.unshift(m):y[l]=m)}c&&Object.defineProperty(c,r.name,y),x=!0}function Ke(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Ye(e){return typeof e=="symbol"?e:"".concat(e)}function Je(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Xe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ze(e,t,n,r){function i(a){return a instanceof n?a:new n(function(p){p(a)})}return new(n||(n=Promise))(function(a,p){function f(y){try{c(r.next(y))}catch(m){p(m)}}function l(y){try{c(r.throw(y))}catch(m){p(m)}}function c(y){y.done?a(y.value):i(y.value).then(f,l)}c((r=r.apply(e,t||[])).next())})}function Qe(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=f(0),p.throw=f(1),p.return=f(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function f(c){return function(y){return l([c,y])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;p&&(p=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(y){c=[6,y],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var re=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function et(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&re(t,e,n)}function ne(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],p;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(f){p={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(p)throw p.error}}return a}function tt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xe(arguments[t]));return e}function nt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],p=0,f=a.length;p<f;p++,i++)r[i]=a[p];return r}function rt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function it(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",p),i[Symbol.asyncIterator]=function(){return this},i;function p(S){return function(g){return Promise.resolve(g).then(S,m)}}function f(S,g){r[S]&&(i[S]=function(_){return new Promise(function(b,C){a.push([S,_,b,C])>1||l(S,_)})},g&&(i[S]=g(i[S])))}function l(S,g){try{c(r[S](g))}catch(_){x(a[0][3],_)}}function c(S){S.value instanceof A?Promise.resolve(S.value.v).then(y,m):x(a[0][2],S)}function y(S){l("next",S)}function m(S){l("throw",S)}function x(S,g){S(g),a.shift(),a.length&&l(a[0][0],a[0][1])}}function at(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(p){return(n=!n)?{value:A(e[i](p)),done:!1}:a?a(p):p}:a}}function ot(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ne=="function"?ne(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(p){return new Promise(function(f,l){p=e[a](p),i(f,l,p.done,p.value)})}}function i(a,p,f,l){Promise.resolve(l).then(function(c){a({value:c,done:f})},p)}}function ct(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Wt=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Te=function(e){return Te=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Te(e)};function st(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Te(e),r=0;r<n.length;r++)n[r]!=="default"&&re(t,e,n[r]);return Wt(t,e),t}function pt(e){return e&&e.__esModule?e:{default:e}}function ut(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function yt(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function lt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ft(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var Rt=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function mt(e){function t(a){e.error=e.hasError?new Rt(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(p){return t(p),i()})}else r|=1}catch(p){t(p)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function dt(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,p){return r?t?".jsx":".js":i&&(!a||!p)?n:i+a+"."+p.toLowerCase()+"js"}):e}const kt={__extends:Ge,__assign:te,__rest:Ve,__decorate:$e,__param:He,__esDecorate:ze,__runInitializers:Ke,__propKey:Ye,__setFunctionName:Je,__metadata:Xe,__awaiter:Ze,__generator:Qe,__createBinding:re,__exportStar:et,__values:ne,__read:xe,__spread:tt,__spreadArrays:nt,__spreadArray:rt,__await:A,__asyncGenerator:it,__asyncDelegator:at,__asyncValues:ot,__makeTemplateObject:ct,__importStar:st,__importDefault:pt,__classPrivateFieldGet:ut,__classPrivateFieldSet:yt,__classPrivateFieldIn:lt,__addDisposableResource:ft,__disposeResources:mt,__rewriteRelativeImportExtension:dt},It=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ft,get __assign(){return te},__asyncDelegator:at,__asyncGenerator:it,__asyncValues:ot,__await:A,__awaiter:Ze,__classPrivateFieldGet:ut,__classPrivateFieldIn:lt,__classPrivateFieldSet:yt,__createBinding:re,__decorate:$e,__disposeResources:mt,__esDecorate:ze,__exportStar:et,__extends:Ge,__generator:Qe,__importDefault:pt,__importStar:st,__makeTemplateObject:ct,__metadata:Xe,__param:He,__propKey:Ye,__read:xe,__rest:Ve,__rewriteRelativeImportExtension:dt,__runInitializers:Ke,__setFunctionName:Je,__spread:tt,__spreadArray:rt,__spreadArrays:nt,__values:ne,default:kt},Symbol.toStringTag,{value:"Module"})),ie=Ut(It);var q={},de={},N={},Ee;function X(){if(Ee)return N;Ee=1,Object.defineProperty(N,"__esModule",{value:!0}),N.WebmBase=void 0;let e=class{constructor(n="Unknown",r=0){this.name=n,this.start=r}getType(){return"Unknown"}updateBySource(){}setSource(n){this.source=n,this.updateBySource()}updateByData(){}setData(n){this.data=n,this.updateByData()}getValue(){return this.data}setValue(n){this.setData(n)}};return N.WebmBase=e,N}var G={},V={},$={},je;function ve(){if(je)return $;je=1,Object.defineProperty($,"__esModule",{value:!0}),$.SectionType=void 0;var e;return function(t){t.Container="Container",t.Uint="Uint",t.Int="Int",t.Float="Float",t.String="String",t.Date="Date",t.Binary="Binary"}(e||($.SectionType=e={})),$}var Oe;function ht(){if(Oe)return V;Oe=1,Object.defineProperty(V,"__esModule",{value:!0}),V.sections=void 0;const e=ve();return V.sections={172351395:{name:"EBML",type:e.SectionType.Container},646:{name:"EBMLVersion",type:e.SectionType.Uint},759:{name:"EBMLReadVersion",type:e.SectionType.Uint},754:{name:"EBMLMaxIDLength",type:e.SectionType.Uint},755:{name:"EBMLMaxSizeLength",type:e.SectionType.Uint},642:{name:"DocType",type:e.SectionType.String},647:{name:"DocTypeVersion",type:e.SectionType.Uint},645:{name:"DocTypeReadVersion",type:e.SectionType.Uint},108:{name:"Void",type:e.SectionType.Binary},63:{name:"CRC-32",type:e.SectionType.Binary},190023271:{name:"SignatureSlot",type:e.SectionType.Container},16010:{name:"SignatureAlgo",type:e.SectionType.Uint},16026:{name:"SignatureHash",type:e.SectionType.Uint},16037:{name:"SignaturePublicKey",type:e.SectionType.Binary},16053:{name:"Signature",type:e.SectionType.Binary},15963:{name:"SignatureElements",type:e.SectionType.Container},15995:{name:"SignatureElementList",type:e.SectionType.Container},9522:{name:"SignedElement",type:e.SectionType.Binary},139690087:{name:"Segment",type:e.SectionType.Container},21863284:{name:"SeekHead",type:e.SectionType.Container},3515:{name:"Seek",type:e.SectionType.Container},5035:{name:"SeekID",type:e.SectionType.Binary},5036:{name:"SeekPosition",type:e.SectionType.Uint},88713574:{name:"Info",type:e.SectionType.Container},13220:{name:"SegmentUID",type:e.SectionType.Binary},13188:{name:"SegmentFilename",type:e.SectionType.String},1882403:{name:"PrevUID",type:e.SectionType.Binary},1868715:{name:"PrevFilename",type:e.SectionType.String},2013475:{name:"NextUID",type:e.SectionType.Binary},1999803:{name:"NextFilename",type:e.SectionType.String},1092:{name:"SegmentFamily",type:e.SectionType.Binary},10532:{name:"ChapterTranslate",type:e.SectionType.Container},10748:{name:"ChapterTranslateEditionUID",type:e.SectionType.Uint},10687:{name:"ChapterTranslateCodec",type:e.SectionType.Uint},10661:{name:"ChapterTranslateID",type:e.SectionType.Binary},710577:{name:"TimecodeScale",type:e.SectionType.Uint},1161:{name:"Duration",type:e.SectionType.Float},1121:{name:"DateUTC",type:e.SectionType.Date},15273:{name:"Title",type:e.SectionType.String},3456:{name:"MuxingApp",type:e.SectionType.String},5953:{name:"WritingApp",type:e.SectionType.String},103:{name:"Timecode",type:e.SectionType.Uint},6228:{name:"SilentTracks",type:e.SectionType.Container},6359:{name:"SilentTrackNumber",type:e.SectionType.Uint},39:{name:"Position",type:e.SectionType.Uint},43:{name:"PrevSize",type:e.SectionType.Uint},35:{name:"SimpleBlock",type:e.SectionType.Binary},32:{name:"BlockGroup",type:e.SectionType.Container},33:{name:"Block",type:e.SectionType.Binary},34:{name:"BlockVirtual",type:e.SectionType.Binary},13729:{name:"BlockAdditions",type:e.SectionType.Container},38:{name:"BlockMore",type:e.SectionType.Container},110:{name:"BlockAddID",type:e.SectionType.Uint},37:{name:"BlockAdditional",type:e.SectionType.Binary},27:{name:"BlockDuration",type:e.SectionType.Uint},122:{name:"ReferencePriority",type:e.SectionType.Uint},123:{name:"ReferenceBlock",type:e.SectionType.Int},125:{name:"ReferenceVirtual",type:e.SectionType.Int},36:{name:"CodecState",type:e.SectionType.Binary},13730:{name:"DiscardPadding",type:e.SectionType.Int},14:{name:"Slices",type:e.SectionType.Container},104:{name:"TimeSlice",type:e.SectionType.Container},76:{name:"LaceNumber",type:e.SectionType.Uint},77:{name:"FrameNumber",type:e.SectionType.Uint},75:{name:"BlockAdditionID",type:e.SectionType.Uint},78:{name:"Delay",type:e.SectionType.Uint},79:{name:"SliceDuration",type:e.SectionType.Uint},72:{name:"ReferenceFrame",type:e.SectionType.Container},73:{name:"ReferenceOffset",type:e.SectionType.Uint},74:{name:"ReferenceTimeCode",type:e.SectionType.Uint},47:{name:"EncryptedBlock",type:e.SectionType.Binary},106212971:{name:"Tracks",type:e.SectionType.Container},46:{name:"TrackEntry",type:e.SectionType.Container},87:{name:"TrackNumber",type:e.SectionType.Uint},13253:{name:"TrackUID",type:e.SectionType.Uint},3:{name:"TrackType",type:e.SectionType.Uint},57:{name:"FlagEnabled",type:e.SectionType.Uint},8:{name:"FlagDefault",type:e.SectionType.Uint},5546:{name:"FlagForced",type:e.SectionType.Uint},28:{name:"FlagLacing",type:e.SectionType.Uint},11751:{name:"MinCache",type:e.SectionType.Uint},11768:{name:"MaxCache",type:e.SectionType.Uint},254851:{name:"DefaultDuration",type:e.SectionType.Uint},216698:{name:"DefaultDecodedFieldDuration",type:e.SectionType.Uint},209231:{name:"TrackTimecodeScale",type:e.SectionType.Float},4991:{name:"TrackOffset",type:e.SectionType.Int},5614:{name:"MaxBlockAdditionID",type:e.SectionType.Uint},4974:{name:"Name",type:e.SectionType.String},177564:{name:"Language",type:e.SectionType.String},6:{name:"CodecID",type:e.SectionType.String},9122:{name:"CodecPrivate",type:e.SectionType.Binary},362120:{name:"CodecName",type:e.SectionType.String},13382:{name:"AttachmentLink",type:e.SectionType.Uint},1742487:{name:"CodecSettings",type:e.SectionType.String},1785920:{name:"CodecInfoURL",type:e.SectionType.String},438848:{name:"CodecDownloadURL",type:e.SectionType.String},42:{name:"CodecDecodeAll",type:e.SectionType.Uint},12203:{name:"TrackOverlay",type:e.SectionType.Uint},5802:{name:"CodecDelay",type:e.SectionType.Uint},5819:{name:"SeekPreRoll",type:e.SectionType.Uint},9764:{name:"TrackTranslate",type:e.SectionType.Container},9980:{name:"TrackTranslateEditionUID",type:e.SectionType.Uint},9919:{name:"TrackTranslateCodec",type:e.SectionType.Uint},9893:{name:"TrackTranslateTrackID",type:e.SectionType.Binary},96:{name:"Video",type:e.SectionType.Container},26:{name:"FlagInterlaced",type:e.SectionType.Uint},5048:{name:"StereoMode",type:e.SectionType.Uint},5056:{name:"AlphaMode",type:e.SectionType.Uint},5049:{name:"OldStereoMode",type:e.SectionType.Uint},48:{name:"PixelWidth",type:e.SectionType.Uint},58:{name:"PixelHeight",type:e.SectionType.Uint},5290:{name:"PixelCropBottom",type:e.SectionType.Uint},5307:{name:"PixelCropTop",type:e.SectionType.Uint},5324:{name:"PixelCropLeft",type:e.SectionType.Uint},5341:{name:"PixelCropRight",type:e.SectionType.Uint},5296:{name:"DisplayWidth",type:e.SectionType.Uint},5306:{name:"DisplayHeight",type:e.SectionType.Uint},5298:{name:"DisplayUnit",type:e.SectionType.Uint},5299:{name:"AspectRatioType",type:e.SectionType.Uint},963876:{name:"ColourSpace",type:e.SectionType.Binary},1029411:{name:"GammaValue",type:e.SectionType.Float},230371:{name:"FrameRate",type:e.SectionType.Float},97:{name:"Audio",type:e.SectionType.Container},53:{name:"SamplingFrequency",type:e.SectionType.Float},14517:{name:"OutputSamplingFrequency",type:e.SectionType.Float},31:{name:"Channels",type:e.SectionType.Uint},15739:{name:"ChannelPositions",type:e.SectionType.Binary},8804:{name:"BitDepth",type:e.SectionType.Uint},98:{name:"TrackOperation",type:e.SectionType.Container},99:{name:"TrackCombinePlanes",type:e.SectionType.Container},100:{name:"TrackPlane",type:e.SectionType.Container},101:{name:"TrackPlaneUID",type:e.SectionType.Uint},102:{name:"TrackPlaneType",type:e.SectionType.Uint},105:{name:"TrackJoinBlocks",type:e.SectionType.Container},109:{name:"TrackJoinUID",type:e.SectionType.Uint},64:{name:"TrickTrackUID",type:e.SectionType.Uint},65:{name:"TrickTrackSegmentUID",type:e.SectionType.Binary},70:{name:"TrickTrackFlag",type:e.SectionType.Uint},71:{name:"TrickMasterTrackUID",type:e.SectionType.Uint},68:{name:"TrickMasterTrackSegmentUID",type:e.SectionType.Binary},11648:{name:"ContentEncodings",type:e.SectionType.Container},8768:{name:"ContentEncoding",type:e.SectionType.Container},4145:{name:"ContentEncodingOrder",type:e.SectionType.Uint},4146:{name:"ContentEncodingScope",type:e.SectionType.Uint},4147:{name:"ContentEncodingType",type:e.SectionType.Uint},4148:{name:"ContentCompression",type:e.SectionType.Container},596:{name:"ContentCompAlgo",type:e.SectionType.Uint},597:{name:"ContentCompSettings",type:e.SectionType.Binary},4149:{name:"ContentEncryption",type:e.SectionType.Container},2017:{name:"ContentEncAlgo",type:e.SectionType.Uint},2018:{name:"ContentEncKeyID",type:e.SectionType.Binary},2019:{name:"ContentSignature",type:e.SectionType.Binary},2020:{name:"ContentSigKeyID",type:e.SectionType.Binary},2021:{name:"ContentSigAlgo",type:e.SectionType.Uint},2022:{name:"ContentSigHashAlgo",type:e.SectionType.Uint},206814059:{name:"Cues",type:e.SectionType.Container},59:{name:"CuePoint",type:e.SectionType.Container},51:{name:"CueTime",type:e.SectionType.Uint},55:{name:"CueTrackPositions",type:e.SectionType.Container},119:{name:"CueTrack",type:e.SectionType.Uint},113:{name:"CueClusterPosition",type:e.SectionType.Uint},112:{name:"CueRelativePosition",type:e.SectionType.Uint},50:{name:"CueDuration",type:e.SectionType.Uint},4984:{name:"CueBlockNumber",type:e.SectionType.Uint},106:{name:"CueCodecState",type:e.SectionType.Uint},91:{name:"CueReference",type:e.SectionType.Container},22:{name:"CueRefTime",type:e.SectionType.Uint},23:{name:"CueRefCluster",type:e.SectionType.Uint},4959:{name:"CueRefNumber",type:e.SectionType.Uint},107:{name:"CueRefCodecState",type:e.SectionType.Uint},155296873:{name:"Attachments",type:e.SectionType.Container},8615:{name:"AttachedFile",type:e.SectionType.Container},1662:{name:"FileDescription",type:e.SectionType.String},1646:{name:"FileName",type:e.SectionType.String},1632:{name:"FileMimeType",type:e.SectionType.String},1628:{name:"FileData",type:e.SectionType.Binary},1710:{name:"FileUID",type:e.SectionType.Uint},1653:{name:"FileReferral",type:e.SectionType.Binary},1633:{name:"FileUsedStartTime",type:e.SectionType.Uint},1634:{name:"FileUsedEndTime",type:e.SectionType.Uint},4433776:{name:"Chapters",type:e.SectionType.Container},1465:{name:"EditionEntry",type:e.SectionType.Container},1468:{name:"EditionUID",type:e.SectionType.Uint},1469:{name:"EditionFlagHidden",type:e.SectionType.Uint},1499:{name:"EditionFlagDefault",type:e.SectionType.Uint},1501:{name:"EditionFlagOrdered",type:e.SectionType.Uint},54:{name:"ChapterAtom",type:e.SectionType.Container},13252:{name:"ChapterUID",type:e.SectionType.Uint},5716:{name:"ChapterStringUID",type:e.SectionType.String},17:{name:"ChapterTimeStart",type:e.SectionType.Uint},18:{name:"ChapterTimeEnd",type:e.SectionType.Uint},24:{name:"ChapterFlagHidden",type:e.SectionType.Uint},1432:{name:"ChapterFlagEnabled",type:e.SectionType.Uint},11879:{name:"ChapterSegmentUID",type:e.SectionType.Binary},11964:{name:"ChapterSegmentEditionUID",type:e.SectionType.Uint},9155:{name:"ChapterPhysicalEquiv",type:e.SectionType.Uint},15:{name:"ChapterTrack",type:e.SectionType.Container},9:{name:"ChapterTrackNumber",type:e.SectionType.Uint},0:{name:"ChapterDisplay",type:e.SectionType.Container},5:{name:"ChapString",type:e.SectionType.String},892:{name:"ChapLanguage",type:e.SectionType.String},894:{name:"ChapCountry",type:e.SectionType.String},10564:{name:"ChapProcess",type:e.SectionType.Container},10581:{name:"ChapProcessCodecID",type:e.SectionType.Uint},1293:{name:"ChapProcessPrivate",type:e.SectionType.Binary},10513:{name:"ChapProcessCommand",type:e.SectionType.Container},10530:{name:"ChapProcessTime",type:e.SectionType.Uint},10547:{name:"ChapProcessData",type:e.SectionType.Binary},39109479:{name:"Tags",type:e.SectionType.Container},13171:{name:"Tag",type:e.SectionType.Container},9152:{name:"Targets",type:e.SectionType.Container},10442:{name:"TargetTypeValue",type:e.SectionType.Uint},9162:{name:"TargetType",type:e.SectionType.String},9157:{name:"TagTrackUID",type:e.SectionType.Uint},9161:{name:"TagEditionUID",type:e.SectionType.Uint},9156:{name:"TagChapterUID",type:e.SectionType.Uint},9158:{name:"TagAttachmentUID",type:e.SectionType.Uint},10184:{name:"SimpleTag",type:e.SectionType.Container},1443:{name:"TagName",type:e.SectionType.String},1146:{name:"TagLanguage",type:e.SectionType.String},1156:{name:"TagDefault",type:e.SectionType.Uint},1159:{name:"TagString",type:e.SectionType.String},1157:{name:"TagBinary",type:e.SectionType.Binary},5552:{name:"Colour",type:e.SectionType.Container},5553:{name:"MatrixCoefficients",type:e.SectionType.Uint},5554:{name:"BitsPerChannel",type:e.SectionType.Uint},5555:{name:"ChromaSubsamplingHorz",type:e.SectionType.Uint},5556:{name:"ChromaSubsamplingVert",type:e.SectionType.Uint},5557:{name:"CbSubsamplingHorz",type:e.SectionType.Uint},5558:{name:"CbSubsamplingVert",type:e.SectionType.Uint},5559:{name:"ChromaSitingHorz",type:e.SectionType.Uint},5560:{name:"ChromaSitingVert",type:e.SectionType.Uint},5561:{name:"Range",type:e.SectionType.Uint},5562:{name:"TransferCharacteristics",type:e.SectionType.Uint},5563:{name:"Primaries",type:e.SectionType.Uint},5564:{name:"MaxCLL",type:e.SectionType.Uint},5565:{name:"MaxFALL",type:e.SectionType.Uint}},V}var H={},Fe;function St(){if(Fe)return H;Fe=1,Object.defineProperty(H,"__esModule",{value:!0}),H.WebmUint=void 0;const e=X();function t(r){return r.length%2===1?"0"+r:r}let n=class extends e.WebmBase{constructor(i,a=0){super(i,a)}getType(){return"Uint"}updateBySource(){this.data="";for(let i=0;i<this.source.length;i++){const a=this.source[i].toString(16);this.data+=t(a)}}updateByData(){const i=this.data.length/2;this.source=new Uint8Array(i);for(let a=0;a<i;a++){const p=this.data.substring(a*2,a*2+2);this.source[a]=parseInt(p,16)}}getValue(){return parseInt(this.data,16)}setValue(i){this.setData(t(i.toString(16)))}};return H.WebmUint=n,H}var z={},We;function Tt(){if(We)return z;We=1,Object.defineProperty(z,"__esModule",{value:!0}),z.WebmFloat=void 0;const e=X();let t=class extends e.WebmBase{constructor(r,i=0){super(r,i)}getType(){return"Float"}getFloatArrayType(){return this.source&&this.source.length===4?Float32Array:Float64Array}updateBySource(){const r=this.source.reverse(),i=this.getFloatArrayType(),a=new i(r.buffer);this.data=a[0]}updateByData(){const r=this.getFloatArrayType(),i=new r([this.data]),a=new Uint8Array(i.buffer);this.source=a.reverse()}};return z.WebmFloat=t,z}var K={},Re;function bt(){if(Re)return K;Re=1,Object.defineProperty(K,"__esModule",{value:!0}),K.WebmString=void 0;const e=X();let t=class extends e.WebmBase{constructor(r,i=0){super(r,i)}getType(){return"String"}updateBySource(){this.data=this.source}updateByData(){this.source=this.data}getValue(){let r="";return this.source.forEach(i=>{r+=String.fromCharCode(i)}),r}};return K.WebmString=t,K}var ke;function gt(){if(ke)return G;ke=1,Object.defineProperty(G,"__esModule",{value:!0}),G.WebmContainer=void 0;const e=X(),t=ht(),n=ve(),r=St(),i=Tt(),a=bt();let p=class be extends e.WebmBase{constructor(l,c=!1,y=0){super(l,y),this.isInfinite=c,this.offset=0}getType(){return"Container"}readByte(){return this.source[this.offset++]}readUint(){const l=this.readByte(),c=8-l.toString(2).length;let y=l-(1<<7-c);for(let m=0;m<c;m++)y<<=8,y|=this.readByte();return y}updateBySource(){var l;this.data=[];let c;for(this.offset=0;this.offset<this.source.length;this.offset=c){const y=this.offset,m=this.readUint(),{name:x,type:S}=(l=t.sections[m])!==null&&l!==void 0?l:{},g=this.readUint();c=this.source.length,g>=0&&(c=Math.min(this.offset+g,c));const _=this.source.slice(this.offset,c);let b;switch(S){case n.SectionType.Container:b=new be(x,g<0,y);break;case n.SectionType.Uint:b=new r.WebmUint(x,y);break;case n.SectionType.Float:b=new i.WebmFloat(x,y);break;case n.SectionType.String:b=new a.WebmString(x,y);break;default:b=new e.WebmBase(x,y);break}b.setSource(_),this.data.push({id:m,idHex:m.toString(16),data:b})}}writeUint(l,c=!1){let y;for(y=1;(l<0||l>=1<<7*y)&&y<8;y++);if(!c){for(let m=0;m<y;m++)this.source[this.offset+m]=l>>8*(y-1-m)&255;this.source[this.offset]&=(1<<8-y)-1,this.source[this.offset]|=1<<8-y}this.offset+=y}writeSections(l=!1){this.offset=0;for(let c=0;c<this.data.length;c++){const y=this.data[c],m=y.data.source,x=m.length;this.writeUint(y.id,l),this.writeUint(y.data instanceof be&&y.data.isInfinite?-1:x,l),l||this.source.set(m,this.offset),this.offset+=x}return this.offset}updateByData(){const l=this.writeSections(!0);this.source=new Uint8Array(l),this.writeSections()}getSectionById(l){for(let c=0;c<this.data.length;c++){const y=this.data[c];if(y.id===l)return y.data}return null}};return G.WebmContainer=p,G}var Y={},Ie;function Lt(){if(Ie)return Y;Ie=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.WebmFile=void 0;const e=ie,t=gt();let n=class ge extends t.WebmContainer{constructor(i){super("File"),this.setSource(i)}getType(){return"File"}toBlob(i="video/webm"){return new Blob([this.source.buffer],{type:i})}static blobToArray(i){return new Promise((a,p)=>{try{const f=new FileReader;f.onloadend=()=>{try{a(new Uint8Array(f.result))}catch(l){p(l)}},f.readAsArrayBuffer(i)}catch(f){p(f)}})}static fromBlob(i){return e.__awaiter(this,void 0,void 0,function*(){const a=yield ge.blobToArray(i);return new ge(a)})}};return Y.WebmFile=n,Y}var he={},Le;function At(){return Le||(Le=1,Object.defineProperty(he,"__esModule",{value:!0})),he}var Ae;function xt(){return Ae||(Ae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ie;t.__exportStar(X(),e),t.__exportStar(gt(),e),t.__exportStar(Lt(),e),t.__exportStar(Tt(),e),t.__exportStar(bt(),e),t.__exportStar(St(),e),t.__exportStar(ve(),e),t.__exportStar(At(),e),t.__exportStar(ht(),e)}(de)),de}var J={},Me;function vt(){if(Me)return J;Me=1,Object.defineProperty(J,"__esModule",{value:!0}),J.fixParsedWebmDuration=void 0;const e=xt(),t=(n,r,i={})=>{let a=i.logger;a===void 0?a=y=>console.debug(y):a||(a=()=>{});const p=n.getSectionById(139690087);if(!p)return a("[fix-webm-duration] Segment section is missing"),!1;const f=p.getSectionById(88713574);if(!f)return a("[fix-webm-duration] Info section is missing"),!1;const l=f.getSectionById(710577);if(!l)return a("[fix-webm-duration] TimecodeScale section is missing"),!1;let c=f.getSectionById(1161);if(c)if(c.getValue()<=0)a(`[fix-webm-duration] Duration section is present, but the value is ${c.getValue()}`),c.setValue(r);else return a(`[fix-webm-duration] Duration section is present, and the value is ${c.getValue()}`),!1;else a("[fix-webm-duration] Duration section is missing"),c=new e.WebmFloat("Duration"),c.setValue(r),f.data.push({id:1161,data:c});return l.setValue(1e6),f.updateByData(),p.updateByData(),n.updateByData(),!0};return J.fixParsedWebmDuration=t,J}var qe;function Mt(){if(qe)return q;qe=1,Object.defineProperty(q,"__esModule",{value:!0}),q.fixWebmDuration=void 0;const e=ie,t=xt(),n=vt(),r=(i,a,p)=>e.__awaiter(void 0,void 0,void 0,function*(){try{const f=yield t.WebmFile.fromBlob(i);if((0,n.fixParsedWebmDuration)(f,a,p))return f.toBlob(i.type)}catch{}return i});return q.fixWebmDuration=r,q}var Ne;function qt(){return Ne||(Ne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ie;t.__exportStar(Mt(),e),t.__exportStar(vt(),e)}(me)),me}var Nt=qt();const Gt=e=>{const{width:t=200,height:n=200}=e;let r,i,a;const p="video/webm;codecs=h264",[f,l]=L.useState(0),[c,y]=L.useState(0),[m,x]=L.useState(15),[S,g]=L.useState(),[_,b]=L.useState(""),C=async()=>{const W=window.innerWidth||1280,k=window.innerWidth||720,w=[];r=await navigator.mediaDevices.getDisplayMedia({video:{width:W,height:k,frameRate:m},audio:!1,preferCurrentTab:!0}),i.srcObject=r,a=new MediaRecorder(r,{mimeType:p}),a.addEventListener("dataavailable",async E=>{var O=E.data;O&&O.size>0&&w.push(O)}),a.onstop=async()=>{const E=new Blob([...w],{type:"video/webm"}),O=await Ft(E),R=await Nt.fixWebmDuration(E,O*1e3);g(E),i.srcObject=null,i.src=URL.createObjectURL(R),l(2)},a.start(),l(1)};L.useEffect(()=>{i=document.getElementById("captured-video")},[]);const P=async()=>{y(1);const{fetchFile:W}=FFmpegUtil,{FFmpeg:k}=FFmpegWASM;let w=null;w===null&&(w=new k,w.on("log",({message:F})=>{console.info(F)}),w.on("progress",({progress:F,time:Z})=>{b(`${F*100} %, time: ${Z/1e6} s`)}),await w.load({coreURL:"/assets/core-mt/package/dist/umd/ffmpeg-core.js"}),b("Loading complete..."));const E="toConvert.webm";await w.writeFile(E,await W(URL.createObjectURL(S))),b("Start transcoding"),await w.exec(["-i",E,"output.mp4"]),b("Completed transcoding"),y(2);const O=await w.readFile("output.mp4"),R=document.getElementById("mp4-video");R&&(R.src=URL.createObjectURL(new Blob([O.buffer],{type:"video/mp4"})))};return v.jsx(v.Fragment,{children:v.jsxs("div",{...e,style:{width:t,height:n},className:"bg-primary-content p-4 flex flex-col gap-4",children:[v.jsx("div",{className:"flex flex-row gap-4",children:v.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{C()},children:"Record"})}),v.jsxs("fieldset",{className:"fieldset",children:[v.jsx("legend",{className:"fieldset-legend",children:"Frame Rate"}),v.jsxs("select",{className:"select",onChange:W=>{x(W.target.value)},value:m,children:[v.jsx("option",{value:15,children:"15"}),v.jsx("option",{value:25,children:"25"}),v.jsx("option",{value:30,children:"30"}),v.jsx("option",{value:60,children:"60"}),v.jsx("option",{value:120,children:"120"})]}),m>25&&v.jsx("span",{className:"fieldset-label text-error",children:"Larger framerate means larger time for conversion"})]}),_,v.jsx("video",{id:"captured-video",controls:!0,autoPlay:!0,style:{width:"100%",visibility:f==2?"visible":"hidden"}}),f==2&&v.jsxs("button",{type:"button",className:"btn btn-primary",disabled:c==1,onClick:()=>{P()},children:[c==2&&v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2.5",stroke:"currentColor",className:"size-[1.2em]",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})}),c==1&&v.jsx("span",{className:"loading loading-spinner"}),"Convert To MP4"]}),v.jsx("video",{id:"mp4-video",controls:!0,style:{width:"100%",visibility:c==2?"visible":"hidden"}})]})})},Jt={title:"Export/Sidebar",component:Gt},ee={args:{width:300,height:500}};ee.parameters={...ee.parameters,docs:{...ee.parameters?.docs,source:{originalSource:`{
  args: {
    width: 300,
    height: 500
  }
}`,...ee.parameters?.docs?.source}}};const Xt=["Primary"];export{ee as Primary,Xt as __namedExportsOrder,Jt as default};
